@model Nutrition_App.Operations.AnalysisModel

<head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {
          var data = google.visualization.arrayToDataTable([
            ['Date', 'Eaten', 'Goal']
            @foreach (KeyValuePair<string, double> dateData in Model.DailyIntake)
            {
                <text>
                    ,['@dateData.Key', @dateData.Value, @Model.Target]
                </text>            
            }   
          ]);

          var options = {
            title: 'Calories',
            legend: { position: 'bottom' }
          };

          var chart = new google.visualization.LineChart(document.getElementById('line_chart'));

          chart.draw(data, options);
        }
    </script>
</head>
<h1>30-Day Calorie Data for @Model.Username</h1>
<body>
    <div id="line_chart" style="width: 900px; height: 500px"></div>
</body>